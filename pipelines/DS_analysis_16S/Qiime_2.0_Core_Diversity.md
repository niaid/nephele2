:orphan:
### Run qiime 2.0 starting from biom files generated by mothur, dada and qiime 1.9

> **Important: The front end must ask the user to provide the following:**
> 1. Biom file ending on "mcc.0.03.biom"
> 2. Mapping file
> 3. Desired sampling depth number

#### Step 1: Import biom file from mothur or dada
This step requres the biom file that the user provided or that was generated from mothur pipeline.  For mothur this file usually ends on "mcc.0.03.biom", for dada it is "taxa_species.biom" and for qiime, it is "otus/otu_table_mc2_w_tax.biom" or "OTU_table.biom"
This code should later be expanded to take on an input of a phylogenetic tree to run additional analysis but for now we are only running the core diversity that doesn't require the tree

```bash
qiime tools import \
--input-path combo.trim.contigs.good.unique.good.filter.unique.precluster.pick.opti_mcc.0.03.biom \
--type 'FeatureTable[Frequency]' \
--source-format BIOMV100Format \
--output-path table-qiime2.qza
```

#### Step 2: Run a Sample Summary
This step requires the mapping file in text format and the table that was generated as output from step 1.  

```bash
qiime feature-table summarize \
  --i-table table-qiime2.qza \
  --o-visualization table-qiime2.qzv \
  --m-sample-metadata-file Mapping_file_corrected.txt.nogz
```

#### Step 3: Run Core Diversity (non-phylogenetic)
This step requires the sampling depth, the metadata file in text format that the user provided and the table that was generated as output from step 1.
For full list of parameters see: https://docs.qiime2.org/2018.8/plugins/available/diversity/core-metrics/?highlight=core%20metrics

```bash
rm -rf qiime2-core-metrics-results | qiime diversity core-metrics \
--i-table table-qiime2.qza \
--p-sampling-depth 20000 \
--m-metadata-file Mapping_file_corrected.txt.nogz \
--output-dir qiime2-core-metrics-results
qiime diversity alpha-group-significance \
--i-alpha-diversity qiime2-core-metrics-results/evenness_vector.qza \
--m-metadata-file Mapping_file_corrected.txt.nogz \
--o-visualization qiime2-core-metrics-results/evenness-group-significance.qzv
```

### Outputs for the user
Give all the files ending on ( \\*.qzv ) and tell user to drag and drop files onto https://view.qiime2.org/

-------

**Note**: Mariam tested these lines on Locus, qiime 2.0 and folder :   
mothur : /hpcdata/bcbb/quinones/Nephele_support/mothurrun_Sept10/outputs  
dada : /hpcdata/bcbb/quinones/Nephele_support/run/outputs 2  
qiime : /hpcdata/bcbb/quinones/Nephele_support/falcone  
